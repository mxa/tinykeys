<!DOCTYPE html>
<html>
  <head>
    <title>TinyKeys - Optimizing chromatic keyboards for small, non-tactile surfaces</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.5.14/p5.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.5.14/addons/p5.dom.min.js"></script>
<!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.5.14/addons/p5.dom.js"></script> -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.5.14/addons/p5.sound.js"></script>
<!-- <script src="modules/resizeNN.js"></script> -->
    <script src="sketch.js"></script>
  </head>
  <body>
    <div class="center" id="keyboard">
      <!--  P5.js Sketch is here-->
    </div>
    <div class="under">
        <p>Go <button id="toggle">Fullscreen</button></p>
        <p>TinyKeys source code is available at <a href="https://github.com/mxa/tinykeys">github/mxa/tinykeys</a></p>
    </div>
<!--    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>-->
    <script src="addons/screenfull.min.js"></script>
    <script>
        document.fullscreenEnabled = document.fullscreenEnabled || document.mozFullScreenEnabled || document.documentElement.webkitRequestFullScreen;

        function requestFullscreen(element) {
	       if (element.requestFullscreen) {
		      element.requestFullscreen();
	       } else if (element.mozRequestFullScreen) {
		      element.mozRequestFullScreen();
	       } else if (element.webkitRequestFullScreen) {
		      element.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT);
	       }
        }   

        if (document.fullscreenEnabled) {
	       requestFullscreen(document.documentElement);
        }
        const el = document.getElementById('keyboard');
        document.getElementById('toggle').addEventListener('click', () => {
            if (screenfull.enabled) {
                screenfull.request(el);
            }
        });
        if (screenfull.enabled) {
	       screenfull.on('change', () => {
		      windowResized();
              console.log('Am I fullscreen?', screenfull.isFullscreen ? 'Yes' : 'No');
	       });
        }
    </script>
  </body>
</html>
